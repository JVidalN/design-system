{"version":3,"file":"Chip.stories-75541ec2.js","sources":["../../src/components/Chip/Chip.tsx"],"sourcesContent":["import React, { Children, ReactNode, useEffect, useState } from \"react\";\nimport { Icon } from \"../IconComponent/Icon\";\nimport { InputText } from \"../InputText/InputText\";\n\nexport interface ChipCoreProps {\n  close?: boolean;\n  onClose?: () => void;\n  children: ReactNode;\n}\n\nfunction ChipCore({ children, close = false, onClose }:ChipCoreProps){\n  return (\n    <span className={`\n    py-[2px]\n    px-2\n    rounded-[20px]\n    inline-flex \n    relative \n    items-center \n    mr-2\n    text-sm \n    h-[25px]\n    text-neutral-dark-base\n    bg-brand-primary-dark/[0.15] \n    ${close ? 'gap-[6px]' : ''}`}\n  >\n      {children}\n      {close && ( <Icon name=\"cancel\" color=\"text-brand-primary-dark\" width=\"15\" height=\"15\" onClick={onClose}/>)}\n    </span>\n  );\n};\n\nexport interface ChipInputProps {\n  placeholder?: string;\n  children: ReactNode;\n  limit?: number;\n  onChange: (chips: string[]) => void;\n}\n\nfunction ChipInput({ children, limit, placeholder='Adicione..', onChange }:ChipInputProps){\n  const [chips, setChips] = useState<Array<string>>([]);\n  const [value, setValue] = useState<string>('');\n\n  const fillFirstChildren = () => {\n    Children.forEach(children, (child: any) => {\n      setChips([...chips, child.props.children]);\n    })\n  }\n\n  useEffect(() => {\n    fillFirstChildren();\n  }, [])\n\n  useEffect(() => {\n    if(chips){\n      onChange(chips);\n    }\n  }, [chips])\n  \n  const handleEnter = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n\n      if ((limit&&chips.length >= limit) || !value)\n        return;\n  \n      setChips([...chips, value]);\n      setValue('');\n    }\n  };\n\n  const handleClose = (index: number) => {\n    const newChips = [...chips];\n    newChips.splice(index, 1);\n    setChips(newChips);\n  };\n\n  return (\n      <InputText.Root className=\"!p-0 !h-fit\">\n        <InputText.Input \n          placeholder={placeholder}\n          type=\"text\"\n          value={value}\n          onChange={(e)=>{setValue(e.target.value)}}\n          onKeyUp={handleEnter}\n        />\n        <div className=\"flex flex-wrap w-fit h-fit gap-1 p-1\">\n          {chips.map((chip, index) => (\n            <ChipCore key={index} close={true} onClose= {() => handleClose(index)}>\n              {chip}\n            </ChipCore>\n          ))}\n        </div>\n      </InputText.Root> \n  );\n};\n\nChipCore.displayName = 'Chip.Core';\nChipInput.displayName = 'Chip.Input';\n\nexport const Chip = {\n  Core: ChipCore,\n  Input: ChipInput\n};\n"],"names":["ChipCore","children","close","onClose","className","Icon","name","color","width","height","onClick","ChipInput","limit","placeholder","onChange","chips","setChips","useState","value","setValue","fillFirstChildren","forEach","child","props","useEffect","handleEnter","event","key","preventDefault","length","handleClose","index","newChips","splice","_jsxs","InputText","Root","_jsx","Input","type","e","target","onKeyUp","map","chip","displayName","Chip","Core"],"mappings":"mYAUA,SAASA,EAAS,CAAEC,SAAAA,EAAUC,MAAAA,EAAQ,GAAOC,QAAAA,CAAsB,EAAE,CACnE,SACE,OAAA,CAAMC,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAYhBF,EAAQ,YAAc,KAAKD,UAE1BA,EACAC,KAAYG,EAAI,CAACC,KAAK,SAASC,MAAM,0BAA0BC,MAAM,KAAKC,OAAO,KAAKC,QAASP,CAAAA,CAAW,CAAA,CAAA,CACtG,CAEX,CApBSH,EAAAA,EAAAA,YA6BT,SAASW,EAAU,CAAEV,SAAAA,EAAUW,MAAAA,EAAOC,YAAAA,EAAY,aAAcC,SAAAA,CAAwB,EAAE,CACxF,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAwB,CAAE,CAAA,EAC9C,CAACC,EAAOC,CAAQ,EAAIF,WAAiB,EAAE,EAEvCG,EAAoBA,EAAAA,IAAM,CACrBC,EAAAA,SAAAA,QAAQpB,EAAWqB,GAAe,CACzCN,EAAS,CAAC,GAAGD,EAAOO,EAAMC,MAAMtB,QAAQ,CAAC,CAAA,CAC1C,CAAA,EAHuBmB,qBAM1BI,EAAAA,UAAU,IAAM,CACKJ,GACrB,EAAG,CAAE,CAAA,EAELI,EAAAA,UAAU,IAAM,CACXT,GACDD,EAASC,CAAK,CAChB,EACC,CAACA,CAAK,CAAC,EAEJU,MAAAA,EAAcA,EAACC,GAAiD,CAChEA,GAAAA,EAAMC,MAAQ,QAAS,CAGzB,GAFAD,EAAME,eAAgB,EAEjBhB,GAAOG,EAAMc,QAAUjB,GAAU,CAACM,EACrC,OAEFF,EAAS,CAAC,GAAGD,EAAOG,CAAK,CAAC,EAC1BC,EAAS,EAAE,EACb,EATkBM,eAYdK,EAAcA,EAACC,GAAkB,CAC/BC,MAAAA,EAAW,CAAC,GAAGjB,CAAK,EACjBkB,EAAAA,OAAOF,EAAO,CAAC,EACxBf,EAASgB,CAAQ,CAAA,EAHCF,eAOhBI,OAAAA,EAACC,EAAUC,KAAI,CAAChC,UAAU,cAAaH,SACrCoC,CAACF,EAAAA,EAAUG,MAAK,CACdzB,YAAAA,EACA0B,KAAK,OACLrB,MAAAA,EACAJ,SAAe0B,GAAA,CAAUA,EAAAA,EAAEC,OAAOvB,KAAK,CAAC,EACxCwB,QAASjB,CAAAA,CAAY,EAEvBY,EAAA,MAAA,CAAKjC,UAAU,uCAAsCH,SAClDc,EAAM4B,IAAI,CAACC,EAAMb,MACf/B,EAAQ,CAAaE,MAAO,GAAMC,QAAUA,IAAM2B,EAAYC,CAAK,EAAE9B,SACnE2C,CAAI,EADQb,CAAK,CAGrB,CAAA,CACG,CAAA,CAAA,CACS,CAEvB,CAxDSpB,EAAAA,EAAAA,aA0DTX,EAAS6C,YAAc,YACvBlC,EAAUkC,YAAc,aAEjB,MAAMC,EAAO,CAClBC,KAAM/C,EACNsC,MAAO3B,CACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}