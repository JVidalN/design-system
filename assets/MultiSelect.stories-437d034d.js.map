{"version":3,"file":"MultiSelect.stories-437d034d.js","sources":["../../src/components/MultiSelect/MultiSelect.tsx","../../src/components/MultiSelect/mock.ts","../../src/components/MultiSelect/MultiSelect.stories.mdx"],"sourcesContent":["import { useState } from \"react\";\nimport { Icon } from \"../IconComponent/Icon\";\n\ninterface OptionProps {\n  label: string;\n  value: string;\n}\n\ninterface OptionGroupProps {\n  [groupName: string]: OptionProps[];\n}\n\nexport interface MultiSelectProps {\n  options: OptionProps[] | OptionGroupProps[];\n  placeholder: string;\n  onChange: (selectedOptions: OptionProps[]) => void;\n  size?: 'sm' | 'md' | 'lg';\n  disabled?: boolean;\n  grouped?: boolean;\n}\n\nfunction MultiSelect({ \n    options, \n    placeholder, \n    disabled = false, \n    size = 'md', \n    onChange, \n    grouped=false \n  }: MultiSelectProps\n) {\n  const [selectedOptions, setSelectedOptions] = useState<OptionProps[]>([]);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleOpen = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleOptionSelect = (option: OptionProps) => {\n    const newSelectedOptions = [...selectedOptions];\n    \n    if (selectedOptions.find((o) => o.label === option.label)) {\n      const index = selectedOptions.findIndex((o) => o.label === option.label);\n      newSelectedOptions.splice(index, 1);\n    } else {\n      newSelectedOptions.push(option);\n    }\n    \n    setSelectedOptions(newSelectedOptions);\n    onChange(newSelectedOptions);\n\n  };\n\n  const getSizeStyle = (size:string) => {\n    let className = '';\n    switch (size) {\n      case 'sm':\n          className = 'w-[180px]';\n          return className;\n      case 'md':\n          className = 'w-[250px]';\n          return className;\n      case 'lg':\n          className = 'w-80';\n          return className;\n    }\n  }\n\n  const getDisabledStyle = (disabled:boolean) => {\n    let className = '';\n    if(disabled)\n      className = 'pointer-events-none opacity-70'\n\n    return className;\n  }\n\n  const ungroupedOptions = () => {\n    return (\n      <ul>\n        {options.map((option: any) => (\n          <li key={option.label}>\n            <label className=\"flex items-center px-2\">\n              <input\n                type=\"checkbox\"\n                className=\"h-4 w-4 mr-2 shadow\"\n                checked={selectedOptions.find((o) => o.label === option.label) !== undefined}\n                onChange={() => handleOptionSelect(option)}\n              />\n              <span className=\"text-sm\">{option.label}</span>\n            </label>\n          </li>\n        ))}\n      </ul>  \n    )\n  }\n\n  const groupedOptions = () => {\n    return options.map((group: any, idx:number) => (\n      <ul key={idx}>\n        <li key={Object.keys(group)[0]}>\n          <label className=\"flex items-center px-2\">\n            <span className=\"text-sm font-bold\">{Object.keys(group)[0]}</span>\n          </label>\n        </li>\n        {(group[Object.keys(group)[0]] as OptionProps[]).map((option) => (\n          <li key={option.label}>\n            <label className=\"flex items-center px-2\">\n              <input\n                type=\"checkbox\"\n                className=\"h-4 w-4 mr-2 shadow\"\n                checked={selectedOptions.find((o) => o.label === option.label) !== undefined}\n                onChange={() => handleOptionSelect(option)}\n              />\n              <span className=\"text-sm\">{option.label}</span>\n            </label>\n          </li>\n        ))}\n      </ul> \n    ))\n  }\n    \n  return (\n    <div \n      className={`\n        relative\n        h-10\n        w-full\n        rounded-md\n        text-neutral-dark-dark02\n        bg-neutral-light-light01 \n        border \n        border-neutral-dark-dark02\n        focus-within:ring-1\n        ring-brand-primary-dark\n        ${getSizeStyle(size)}\n        ${getDisabledStyle(disabled)}\n      `}\n    >\n      <button\n        type=\"button\"\n        className=\"\n          flex \n          items-center \n          justify-between \n          w-full \n          px-4 \n          p-[6px] \n          text-left \n          text-neutral-dark-dark02 \n          rounded-md \n          bg-transparent \n          focus:outline-none \n          focus:shadow-outline\n        \"\n        onClick={toggleOpen}\n      >\n        <span className=\"flex-1 truncate\">\n          {\n            selectedOptions.length === 0 ?\n            placeholder \n            : \n            selectedOptions.map((o) => o.value).join(\", \")\n          }\n        </span>\n        <Icon name=\"arrowDown\" height=\"8.5\" width=\"14\" />\n      </button>\n      {isOpen && (\n        <div \n          className=\"\n            block \n            z-10 \n            w-full \n            bg-transparent \n            border \n            border-neutral-dark-dark02 \n            rounded-md \n            mt-1\"\n        >\n          {\n            grouped ? \n            ( groupedOptions() ) \n            : \n            ( ungroupedOptions() )\n          }      \n        </div>\n      )}\n    </div>\n  );\n}\n\nexport { MultiSelect };\n","const data: any = [\n  { label: 'New York', value: 'NY' },\n  { label: 'Rome', value: 'RM' },\n  { label: 'London', value: 'LDN' },\n  { label: 'Istanbul', value: 'IST' },\n  { label: 'Paris', value: 'PRS' }\n];\n\nconst group: any = [\n  {\n    'Swedish Cars': [\n      { label: 'Volvo', value: 'volvo' },\n      { label: 'Saab', value: 'saab' },\n    ]\n  },\n  { \n    'German Cars': [\n      { label: 'Mercedes', value: 'mercedes' },\n      { label: 'Audi', value: 'audi' }\n    ]\n  }\n];\n\nexport const mock = {\n    Data: data,\n    Group: group,\n}\n","import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';\nimport { action } from '@storybook/addon-actions';\nimport { useState, useEffect } from 'react';\nimport { MultiSelect } from \"./MultiSelect\";\nimport { mock } from './mock';\n\n<Meta \n    title=\"Design System/Componentes/MultiSelect\" \n    component={MultiSelect} \n    args={{\n        disabled: false,\n        placeholder:'Selecione...'\n    }}\n    argTypes={{\n        size: { \n            options: ['sm','md','lg'],\n            control: {\n                type: 'inline-radio'\n            }\n        },\n        options: { \n            control: 'object',\n        },\n    }}\n/>\n\n# MultiSelect\n\n> O componente `MultiSelect` é uma lista suspensa em que o usuário pode selecionar múltiplas opções de uma lista pré-definida. \n\n## Variantes\n\n### Default\n\n<Canvas withToolbar>\n    <Story name=\"Default\">\n        {\n            (args) => {\n                const [selectedOptions, setSelectedOptions] = useState([]);\n                useEffect(() => {\n                    action('onChange Event')(`Valor(es) selecionado(s): ${selectedOptions.map((o) => o.value).join(\", \")}`);\n                }, [selectedOptions])\n                \n                return <MultiSelect \n                            {...args}\n                            options={mock.Data}\n                            onChange={(selected) => setSelectedOptions(selected)}\n                        />\n            }\n        }\n    </Story>\n</Canvas>\n\n<ArgsTable story=\"Default\" />\n\n### Agrupado\n\n<Canvas withToolbar>\n    <Story \n        name=\"Group\"\n    >\n        {\n            (args) => {\n                const [selectedOptions, setSelectedOptions] = useState([]);\n                useEffect(() => {\n                    action('onChange Event')(`Valor(es) selecionado(s): ${selectedOptions.map((o) => o.value).join(\", \")}`);\n                }, [selectedOptions])\n                \n                return <MultiSelect \n                            {...args}\n                            options={mock.Group}\n                            onChange={(selected) => setSelectedOptions(selected)}\n                            grouped\n                        />\n            }\n        }\n    </Story>\n</Canvas>\n\n<ArgsTable story=\"Group\" />\n"],"names":["MultiSelect","options","placeholder","size","onChange","selectedOptions","setSelectedOptions","useState","isOpen","setIsOpen","toggleOpen","__name","handleOptionSelect","option","newSelectedOptions","o","index","getSizeStyle","size2","className","getDisabledStyle","disabled2","ungroupedOptions","_jsx","_jsxs","undefined","label","groupedOptions","group","idx","disabled","Icon","grouped","data","mock","_createMdxContent","props","_components","Object","assign","h1","blockquote","p","code","h2","h3","_provideComponents","components","_Fragment","children","Meta","title","component","args","argTypes","control","type","Canvas","withToolbar","Story","name","useEffect","action","map","value","join","Data","selected","ArgsTable","story","Group","MDXContent","wrapper","MDXLayout","defaultStory","_jsx2","storyName","parameters","storySource","source","componentMeta","includeStories","mdxStoryNameToKey","docs","page","AddContext","mdxComponentAnnotations","__namedExportsOrder"],"mappings":"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"}